---
title: "Assignment 2"
output: html_notebook
---

1. (1pt) Download the dataset and store it in a dataframe in R. The dataset does not have header, you should
add the headers manually to your dataframe based on the list of attributes provided in
https://archive.ics.uci.edu/ml/datasets/Adult. Also please note that some entries have extra white space. So
to read the data properly, use the option strip.white=TRUE in read.csv function.

```{r}
adult_df = read.csv("adult.data",header = FALSE,strip.white = TRUE, stringsAsFactors = TRUE,col.names = c("age","workclass","fnlwgt","education","education-num","marital-status","occupation",
                                                                                "relationship","race","sex","capital-gain","capital-loss","hours-per-week","native-country","income"))
```
2. (1pt) Explore the overall structure of the dataset using the str() function. Get a summary statistics of each
variable. How many categorical and numeric variables you have in your data? Is there any missing values?

```{r}
str(adult_df)
```

There are nine categorical variables and six numeric variables in the data set. 

```{r}
summary(adult_df$age)
summary(adult_df$workclass)
summary(adult_df$fnlwgt)
summary(adult_df$education)
summary(adult_df$education.num)
summary(adult_df$marital.status)
summary(adult_df$occupation)
summary(adult_df$relationship)
summary(adult_df$race)
summary(adult_df$sex)
summary(adult_df$capital.gain)
summary(adult_df$capital.loss)
summary(adult_df$hours.per.week)
summary(adult_df$native.country)
summary(adult_df$income)
```

There are 1835 "?" values in the occupation column therefore the data set is missing values

3. (1pt) Get the frequency table of the “income” variable to see how many observations you have in each category of the income variable. Is the data balanced? Do we have equal number of samples in each class of income?
```{r}
inc_table = table(adult_df$income)
inc_table
inc_table[[1]]/(inc_table[[1]] + inc_table[[2]])
```
The data is skewed heavily to the <=50k with that class making up 76% of all entries

4. (3 pts) Explore the data in order to investigate the association between income and the other features. Which of the other features seem most likely to be useful in predicting income.

4a. To explore the relationship between numerical features and “income” variable, you can use side by side box plot and t.test
```{r}
attach(adult_df)
```
```{r}
boxplot(age~income)
boxplot(fnlwgt~income)
boxplot(education.num~income)
boxplot(education.num~income)
boxplot(capital.gain~income)
boxplot(capital.loss~income)
boxplot(hours.per.week~income)
```
```{r}
t.test(age~income)
t.test(fnlwgt~income)
t.test(education.num~income)
t.test(education.num~income)
t.test(capital.gain~income)
t.test(capital.loss~income)
t.test(hours.per.week~income)
```

For the numerical features it would appear that there is a relationship between income and the following: age, education-num, capitol-gain, capitol-loss, and hours-per-week

4b. To explore the relationship between categorical features and “income” variable, you can use frequency table and chisquare test (note that chisquare test might throw a warning if there are cells whose expected counts in the frequency table is less 5. This warning means the p-values reported from chisquare test may be incorrect due to low counts and are not reliable. You can ignore the warning for this assignment).

```{r}
workclass_tbl = table(workclass, income)
workclass_tbl
chisq.test(workclass_tbl)

marital.status_tbl = table(marital.status, income)
marital.status_tbl
chisq.test(marital.status_tbl)

education_tbl = table(education, income)
education_tbl
chisq.test(education_tbl)

occupation_tbl = table(occupation, income)
occupation_tbl
chisq.test(occupation_tbl)

relationship_tbl = table(relationship, income)
relationship_tbl
chisq.test(relationship_tbl)

sex_tbl = table(sex, income)
sex_tbl
chisq.test(sex_tbl)

native.country_tbl = table(native.country, income)
native.country_tbl
chisq.test(native.country_tbl)
```

4c.  Based on your data exploration above, decide which attributes you are going to use to predict income.
Explain your reason for selecting these attributes.





































